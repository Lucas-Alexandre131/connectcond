<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <script type="module">
        import { getItem } from "/src/controller/cookie/authCookie.js";

        const token = getItem("authToken");

        if (!token) {
            // Redireciona imediatamente se n칚o houver token
            window.location.replace("/src/pages/login.html");
        } else {
            console.log("游댍 Token encontrado:", token);
        }
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastrar</title>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <link rel="shortcut icon" href="/src/assets/icons/logotcc.ico" type="image/x-icon">
    <link rel="stylesheet" href="/src/css/geral/header.css">
    <link rel="stylesheet" href="/src/css/sign.css">
    <link rel="stylesheet" href="/src/css/geral/footer.css">
</head>

<body>
    <!-- Header -->
    <header class="mast-header"></header>

    <!-- Container -->
    <div class="container">
        <div class="container-sing">
            <section id="left" class="left-panel-sing">
                <h2>ConnectCondo</h2>
                <p>Possui uma conta?<a class="register-link" aria-label="Ir para a p치gina de login"
                        href="login.html">Conecte-se</a></p>
            </section>
            <section class="right-panel-sing">
                <h2 class="">Crie sua conta!</h2>
                <form id="form" class="form-sing">
                    <input class="form-input-sing" type="text" placeholder="name" id="name" required>
                    <input class="form-input-sing" type="email" placeholder="email" id="email" required>
                    <input class="form-input-sing" type="password" placeholder="password" id="password" required>
                    <input class="form-input-sing" type="text" placeholder="cpf" id="cpf" required>
                    <input class="form-input-sing" type="text" placeholder="role" id="role" required>
                    <input class="form-input-sing" type="text" placeholder="condominio" id="condo_id" required>
                    <button id="buttonSing" type="submit" class="btn btn-primary">Cadastrar</button>
                </form>
                <small class="register-login">J치 tem uma conta?<a class="register-link"
                        aria-label="Ir para a p치gina de cadastro" href="login.html">Login</a></small>
            </section>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer"></footer>

    <!-- Carrega a fun칞칚o -->
    <script src="/src/controller/sign.js"></script>
    <script src="/src/services/moveButton.js"></script>
    <script src="/src/services/loader.js"></script>
    <script src="/src/services/theme.js"></script>
    <!-- Executa a fun칞칚o -->
    <script>
        // Carrega os componentes em sequ칡ncia e garante que o tema s칩 execute ap칩s o header
        loadComponentByClass("mast-header", "/src/components/head.html")
            .then(() => {
                theme();
            });
        loadComponentByClass("footer", "/src/components/footer.html");
    </script>
</body>

</html>